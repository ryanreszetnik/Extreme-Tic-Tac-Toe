(this.webpackJsonpsocket_react_template=this.webpackJsonpsocket_react_template||[]).push([[0],{133:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=133},134:function(e,t){},178:function(e,t,n){},184:function(e,t,n){},187:function(e,t,n){},191:function(e,t){},221:function(e,t){},222:function(e,t){},223:function(e,t){},224:function(e,t){},225:function(e,t){},226:function(e,t){},252:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(39),i=n.n(a),o=(n(178),n(15)),s=n(27),u=n(17),l=(n(184),n(11)),d=n(29),b=n.n(d),j=n(40),f=n(330),h=n(157),p="SET_SOCKET",O="SET_AUTHENTICATED",v="SET_GAMES",x="ADD_GAME",m="REMOVE_GAME",y="UPDATE_GAME",g="SET_CURRENT_GAME_ID",w="UPDATE_LEADERBOARD",k="RESET_CURRENT_GAME",E="SET_PAST_GAMES",S=n(2);function C(e){var t=e.name,n=e.link,r=Object(u.g)();return Object(S.jsx)("div",{className:"tab",onClick:function(){return r(n)},children:Object(S.jsx)("p",{className:"tabLabel",children:t})})}n(187);var T=n(158),A=n(327),M=n.p+"static/media/icon.966b8ad4.png",_=[{name:"Home",link:"/"}];function D(){var e=Object(o.b)(),t=Object(u.g)(),n=function(){var t=Object(j.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return v(),t.next=3,h.a.signOut();case 3:e({type:O,payload:{authenticated:!1}});case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),r=c.a.useState(null),a=Object(l.a)(r,2),i=a[0],s=a[1],d=Object(o.c)((function(e){var t,n;return null===(t=e.user.userData)||void 0===t||null===(n=t.attributes)||void 0===n?void 0:n.name})),p=Boolean(i),v=function(){s(null)};return Object(S.jsxs)("div",{style:{width:"100%",backgroundColor:"#333",height:"40px",display:"flex"},children:[Object(S.jsx)("img",{src:M,width:"40",height:"40"}),_.map((function(e){return Object(S.jsx)(C,{name:e.name,link:e.link},e.link)})),Object(S.jsx)("div",{style:{display:"inline-flex",flexGrow:100,justifyContent:"flex-end",paddingRight:"10px"},children:Object(S.jsx)(f.a,{id:"basic-button",variant:"contained","aria-controls":"basic-menu","aria-haspopup":"true","aria-expanded":p?"true":void 0,onClick:function(e){s(e.currentTarget)},children:d})}),Object(S.jsxs)(T.a,{id:"basic-menu",anchorEl:i,open:p,onClose:v,MenuListProps:{"aria-labelledby":"basic-button"},children:[Object(S.jsx)(A.a,{onClick:function(){return t("/profile"),void v()},children:"Profile"}),Object(S.jsx)(A.a,{onClick:n,children:"Logout"})]})]})}var L=n(94),G=n(30),N={id:""};var R=n(20),F=[];var P=[];var W=[];var U={authenticated:!1,accessToken:null,idToken:null,refreshToken:null,userData:null};var I=Object(L.a)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;return t.type===O?Object(G.a)(Object(G.a)({},e),t.payload):e},socket:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return t.type===p?t.payload:e},games:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return t.payload;case x:return[].concat(Object(R.a)(e),[t.payload]);case m:return e.filter((function(e){return e.id!==t.payload}));case y:return e.some((function(e){return e.id===t.payload.id}))?e.map((function(e){return console.log(e.id),e.id===t.payload.id?(console.log(t.payload),{id:t.payload.id,lastMove:t.payload.lastMove,isFinished:t.payload.isFinished,players:t.payload.players}):e})):[].concat(Object(R.a)(e),[{id:t.payload.id,lastMove:t.payload.lastMove,isFinished:t.payload.isFinished,players:t.payload.players}]);default:return e}},currentGame:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return t.payload.id===e.id?t.payload:e;case g:return Object(G.a)(Object(G.a)({},e),{},{id:t.payload});case k:return N;default:return e}},leaderboard:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;return t.type===w?t.payload:e},pastGames:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;return t.type===E?t.payload:e}}),z=I,B=Object(L.b)(z),K=null;B.subscribe((function(){var e=B.getState();try{K=e.socket}catch(t){console.log("socket or sub does not exist")}}));var X=function(e,t){console.log("sending",e,t);try{K.send(JSON.stringify({action:e,data:t}))}catch(n){console.log(n)}},J=function(e){X("joinGame",{id:e})},q=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]],Y=function(e){var t=!1;return q.forEach((function(n){e[n[0]]&&e[n[1]]&&e[n[2]]&&(t=!0)})),t},H=function(e){var t=!1,n=!1;return q.forEach((function(r){"X"===e[r[0]]&&"X"===e[r[1]]&&"X"===e[r[2]]?t=!0:"O"===e[r[0]]&&"O"===e[r[1]]&&"O"===e[r[2]]&&(n=!0)})),{X:t,O:n}},V="#F33",Q="#3F3",Z="#FFF",$="#3FF";function ee(e){var t=e.size,n=e.position,r=e.isWin,c=n-9*Math.floor(n/9),a=Object(o.c)((function(e){return e.currentGame.board[n]})),i=Object(o.c)((function(e){return e.currentGame})),s=Object(o.c)((function(e){return e.user.userData.attributes.sub})),u=Object(o.b)(),l=function(e){for(var t=e%9*9,n=t;n<t+9;n++)if("_"===i.board[n])return!1;return!0},d=function(){var e=i.players.find((function(e){return e.sub===s}));if(i.players.length<2)console.log("Game hasn't started");else if(e)if(i.currentTurn==e.piece)if(i.isFinished)console.log("Game already finished");else if(null===i.lastMove||i.lastMove.position%9===Math.floor(n/9)||l(i.lastMove.position)){console.log("play",e.piece,n,i);var t=i.board;t[n]=e.piece;var r=function(e){for(var t=new Array(9).fill(!1),n=new Array(9).fill(!1),r=Object(R.a)(e),c=0;c<9;c++){var a=r.splice(0,9),i=H(a);t[c]=i.X,n[c]=i.O}var o=Y(t),s=Y(n);return o||s}(t),c=Object(G.a)(Object(G.a)({},i),{},{currentTurn:i.players.find((function(e){return e.sub!=s})).piece,board:t,lastMove:{time:(new Date).toISOString(),position:n},isFinished:r});u({type:y,payload:c}),function(e,t,n){X("sendMove",{id:e,position:t,isFinished:n})}(i.id,n,r)}else console.log("Can't play in that board");else console.log("not your turn");else console.log("you are not in the game")};return Object(S.jsx)("div",{style:{width:t-12.66666,height:t-12.66666,borderStyle:"solid",borderWidth:"2px",borderLeftColor:c%3==0?"white":"black",borderRightColor:c%3==2?"white":"black",borderTopColor:0==Math.floor(c/3)?"white":"black",borderBottomColor:2==Math.floor(c/3)?"white":"black",textAlign:"center",fontSize:t/2,backgroundColor:r?"X"===a?V:Q:null===i.lastMove||"_"===a&&(i.lastMove.position%9===Math.floor(n/9)||l(i.lastMove.position))?$:Z,cursor:"_"===a?"pointer":""},onClick:function(){return d()},children:"_"!=a&&a})}var te=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];function ne(e){var t=e.position,n=e.squareSize,c=Object(r.useState)(new Array(9).fill(!1)),a=Object(l.a)(c,2),i=a[0],s=a[1],u=Object(o.c)((function(e){return e.currentGame.board}));return Object(r.useEffect)((function(){!function(){var e=u.slice(9*t,9*t+9),n=new Array(9).fill(!1);te.forEach((function(t){var r="",c=!0;t.forEach((function(t){""!==r&&r!==e[t]||"_"==e[t]?c=!1:r=e[t]})),c&&t.forEach((function(e){n[e]=!0}))})),s(n)}()}),[u]),Object(S.jsx)("div",{style:{width:3*n-26,height:3*n-26,borderStyle:"solid",borderWidth:3,padding:10,display:"flex",flexWrap:"wrap",margin:0,borderLeftColor:t%3==0?"white":"black",borderRightColor:t%3==2?"white":"black",borderTopColor:0==Math.floor(t/3)?"white":"black",borderBottomColor:2==Math.floor(t/3)?"white":"black"},children:Object(R.a)(new Array(9)).map((function(e,r){return Object(S.jsx)(ee,{position:r+9*t,size:n,isWin:i[r]})}))})}function re(){var e=Object(o.c)((function(e){return e.user.userData.attributes.sub})),t=Object(o.c)((function(t){return t.currentGame.players.find((function(t){return t.sub===e}))})),n=Object(o.c)((function(e){return e.currentGame.currentTurn})),c=null!=t&&t.piece===n,a=Object(o.c)((function(e){return e.currentGame.isFinished}));function i(){return Math.min(Math.min(50,window.innerWidth/9),window.innerHeight/9)}var s=Object(r.useState)(i()),u=Object(l.a)(s,2),d=u[0],b=u[1];return Object(r.useEffect)((function(){function e(){b(i())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),Object(S.jsx)("div",{style:{width:9*d,height:9*d,marginLeft:"auto",marginRight:"auto",display:"flex",flexWrap:"wrap",borderStyle:"solid",borderWidth:"5px",borderColor:c&&!a?"green":"white"},children:Object(R.a)(new Array(9)).map((function(e,t){return Object(S.jsx)(ne,{position:t,squareSize:d})}))})}function ce(e){var t=e.players,n=e.turn,r=e.winner,c=Object(o.c)((function(e){return e.user.userData.attributes.sub}));return Object(S.jsx)("div",{style:{width:"100%",backgroundColor:"#DDD",textAlign:"center",padding:10,fontSize:25},children:function(){if(1===t.length)return"Waiting for opponent...";if(null===n){var e=t.find((function(e){return e.sub!=c}));return"You vs ".concat(e.username)}if(t.some((function(e){return e.sub===c}))){var a=t.find((function(e){return e.sub===c})).piece,i=t.find((function(e){return e.sub!=c}));return r?c===r?"You Win!!!":"You Lose :(":"You (".concat(a,") vs ").concat(i.username," (").concat(i.piece,") | ").concat(n,"'s Move")}if(r){var o=t.find((function(e){return e.sub===r}));return"".concat(o.username," Wins!")}return"".concat(t[0].username," (").concat(t[0].piece,") vs ").concat(t[1].username," (").concat(t[1].piece,") | ").concat(n,"'s Move")}()})}function ae(){var e=Object(u.h)().id,t=Object(o.c)((function(e){return e.currentGame})),n=Object(o.c)((function(e){return e.currentGame.winner})),c=Object(o.b)();return Object(r.useEffect)((function(){c({type:g,payload:e}),J(e)}),[]),Object(S.jsx)("div",{children:t.players?Object(S.jsxs)("div",{children:[Object(S.jsx)(ce,{players:t.players,turn:t.currentTurn,winner:n}),Object(S.jsx)("div",{style:{wdith:"100%",paddingTop:50},children:Object(S.jsx)(re,{})})]}):Object(S.jsx)("div",{children:"Loading Game..."})})}var ie=n(332),oe=n(333),se=n(334),ue=n(78),le=n.n(ue);function de(e){var t=e.game,n=Object(u.g)();return Object(S.jsx)(ie.a,{sx:{minWidth:225,maxWidth:250,cursor:"pointer"},onClick:function(){n("/game/".concat(t.id))},children:Object(S.jsxs)(oe.a,{children:[Object(S.jsx)(se.a,{variant:"h5",component:"div",style:{textAlign:"center"},children:t.players.length>1?"".concat(t.players[0].username," vs ").concat(t.players[1].username):"".concat(t.players[0].username)}),Object(S.jsx)(se.a,{sx:{mb:1.5},color:"text.secondary",style:{textAlign:"center"},children:le()(t.timeCreated).calendar()})]})})}function be(){var e=Object(o.c)((function(e){return e.leaderboard}));return Object(S.jsxs)("div",{children:["Leaderboard",Object(S.jsxs)("table",{children:[Object(S.jsx)("thead",{children:Object(S.jsxs)("tr",{children:[Object(S.jsx)("th",{children:"Rank"}),Object(S.jsx)("th",{children:"Username"}),Object(S.jsx)("th",{children:"Wins"}),Object(S.jsx)("th",{children:"Losses"})]})}),Object(S.jsx)("tbody",{children:e.sort((function(e,t){return e.rank-t.rank})).map((function(e){return t=e,Object(S.jsxs)("tr",{children:[Object(S.jsx)("th",{children:t.place}),Object(S.jsx)("th",{children:t.username}),Object(S.jsx)("th",{children:t.wins}),Object(S.jsx)("th",{children:t.losses})]},t.username);var t}))})]})]})}var je=n(328);function fe(){var e=Object(o.c)((function(e){return e.games})),t=Object(u.g)(),n=Object(o.b)(),c=(Object(o.c)((function(e){return e.user.userData.username})),Object(o.c)((function(e){return e.user.userData.attributes.sub}))),a=function(e){return Object(S.jsx)(de,{game:e},e.id)};return Object(r.useEffect)((function(){n({type:k})}),[]),Object(S.jsxs)("div",{style:{display:"flex"},children:[Object(S.jsxs)("div",{style:{width:"50%"},children:[Object(S.jsx)(f.a,{variant:"contained",onClick:function(){return function(){var n,r=null===(n=e.find((function(e){return!e.isFinished&&1===e.players.length&&e.players[0].sub===c})))||void 0===n?void 0:n.id;t("/game/".concat(void 0!==r?r:Object(je.a)()))}()},children:"Create New Game"}),Object(S.jsx)("div",{children:"My Active Games"}),Object(S.jsx)("div",{style:{display:"flex",flexWrap:"wrap"},children:e.filter((function(e){return!e.isFinished&&e.players.some((function(e){return e.sub===c}))})).map((function(e){return a(e)}))}),Object(S.jsx)("div",{children:"Open Games"}),Object(S.jsx)("div",{style:{display:"flex",flexWrap:"wrap"},children:e.filter((function(e){return!e.isFinished&&1===e.players.length&&e.players[0].sub!==c})).map((function(e){return a(e)}))}),Object(S.jsx)("div",{children:"Spectate Other Games"}),Object(S.jsx)("div",{style:{display:"flex",flexWrap:"wrap"},children:e.filter((function(e){return!e.isFinished&&e.players.length>1&&!e.players.some((function(e){return e.sub===c}))})).map((function(e){return a(e)}))})]}),Object(S.jsx)(be,{})]})}function he(){var e=Object(o.c)((function(e){return e.pastGames})),t=Object(o.c)((function(e){return e.user.userData.attributes.sub}));Object(r.useEffect)((function(){X("loadPastGames",{})}),[]);var n=function(e){return e.lastMove?e.lastMove.time:e.timeCreated};return Object(S.jsxs)("div",{children:[Object(S.jsx)("div",{children:"Profile"}),Object(S.jsxs)("table",{children:[Object(S.jsx)("thead",{children:Object(S.jsxs)("tr",{children:[Object(S.jsx)("th",{children:"Other Player"}),Object(S.jsx)("th",{children:"Time Started"}),Object(S.jsx)("th",{children:"Time Ended"}),Object(S.jsx)("th",{children:"Outcome"})]})}),Object(S.jsx)("tbody",{children:e.sort((function(e,t){return n(e)>n(t)?-1:1})).map((function(e){return function(e){var r=e.players.find((function(e){return e.sub!==t})),c=n(e);return Object(S.jsxs)("tr",{children:[Object(S.jsx)("th",{children:null===r||void 0===r?void 0:r.username}),Object(S.jsx)("th",{children:le()(e.timeCreated).calendar()}),Object(S.jsx)("th",{children:le()(c).calendar()}),Object(S.jsx)("th",{children:t===e.winner?"Win":"Loss"})]},e.id)}(e)}))})]})]})}function pe(){var e=Object(o.c)((function(e){return e.socket})),t=Object(o.c)((function(e){return e.user.accessToken.jwtToken})),n=Object(o.c)((function(e){return e.currentGame.id})),c=Object(o.b)(),a=null,i=0;function s(){e&&e.readyState===e.OPEN?(console.log("sending ping"),e.send("")):e.readyState===e.CLOSED&&(u(),console.log("could not send ping... restarting"),l()),i=setTimeout(s,6e4)}function u(){i&&clearTimeout(i)}var l=function(){a=new WebSocket("".concat("wss://9jk75rxjd3.execute-api.ca-central-1.amazonaws.com/dev","?token=").concat(t)),c({type:p,payload:a})};return Object(r.useEffect)((function(){l()}),[]),Object(r.useEffect)((function(){if(e)return e.onopen=function(t){console.log("Socket Connected"),console.log(t),u(),s(),e.send(JSON.stringify({action:"appLoad",data:""})),""!==n&&J(n)},e.onclose=function(e){console.log("Socket Disconnected"),u()},e.onerror=function(e){console.log("SOCKET ERROR",e)},e.onmessage=function(e){var t,n;try{n=(t=JSON.parse(e.data)).body,console.log("Event Recieved:",t)}catch(r){return void console.log("No event data: ",e)}if(t.action)switch(console.log("Recieved",e,t),t.action){case"SOCKET_UPDATE_GAME":c({type:y,payload:n});break;case"SOCKET_UPDATE_LEADERBOARD":c({type:w,payload:n});break;case"APP_LOAD":console.log(n.games,n.leaderboard),c({type:v,payload:n.games}),c({type:w,payload:n.leaderboard});break;case"SOCKET_LOAD_PAST_GAMES":c({type:E,payload:n});break;default:console.log("No Event Action Match",e)}else console.log("No event action: ",e,t)},function(){u(),e.close()}}),[e]),Object(S.jsx)(r.Fragment,{})}var Oe=function(){return Object(S.jsxs)(s.a,{children:[Object(S.jsx)(D,{}),Object(S.jsxs)(u.d,{children:[Object(S.jsx)(u.b,{path:"/",element:Object(S.jsx)(fe,{})}),Object(S.jsx)(u.b,{path:"/game/:id",element:Object(S.jsx)(ae,{})}),Object(S.jsx)(u.b,{path:"/profile",element:Object(S.jsx)(he,{})})]}),Object(S.jsx)(pe,{})]})},ve=n(55),xe=n(335),me=n(324);function ye(e){var t=e.fields,n=e.title,r=e.onSubmit,c=e.submitName,a=e.secondaryName,i=void 0===a?null:a,o=e.secondaryLink,u=e.secondaryLinks;return Object(S.jsx)("div",{style:{width:"100%"},children:Object(S.jsxs)("div",{style:{marginLeft:"auto",marginRight:"auto",width:"400px",borderStyle:"solid",alignItems:"center",paddingBottom:"45px"},children:[Object(S.jsx)("h1",{style:{textAlign:"center"},children:n}),t.map((function(e){return t=e,Object(S.jsx)("div",{style:{display:"flex",paddingTop:"10px"},children:Object(S.jsx)(xe.a,{component:"div",sx:{marginRight:"auto",marginLeft:"auto"},children:Object(S.jsx)(me.a,{variant:"outlined",label:t.label,type:t.type,style:{width:"250px"},value:t.value,onChange:function(e){return t.onChange(e.target.value)}})})});var t})),Object(S.jsxs)(xe.a,{sx:{display:"flex",marginLeft:"auto",marginRight:"auto",width:"250px",paddingTop:"10px"},children:[Object(S.jsx)("div",{children:u.map((function(e){}))}),null!=i&&Object(S.jsx)("div",{style:{marginTop:"auto",marginBottom:"auto"},children:Object(S.jsx)(s.b,{to:o,style:{color:"black",textDecoration:"none"},children:i})}),Object(S.jsx)("div",{style:{backgroundColor:"blue",marginLeft:"auto",marginRight:"0"},children:Object(S.jsx)(f.a,{variant:"contained",onClick:function(){return r()},children:c})})]})]})})}function ge(){var e=Object(r.useState)(""),t=Object(l.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(""),i=Object(l.a)(a,2),s=i[0],d=i[1],f=Object(u.g)(),p=Object(o.b)(),v=function(){var e=Object(j.a)(b.a.mark((function e(){var t,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("submit"),e.prev=1,e.next=4,h.a.signIn(n,s);case 4:return e.next=6,h.a.currentSession();case 6:return t=e.sent,e.next=9,h.a.currentUserInfo();case 9:r=e.sent,p({type:O,payload:Object(G.a)(Object(G.a)({authenticated:!0},t),{},{userData:r})}),console.log(t),f("/"),console.log("success"),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(){return e.apply(this,arguments)}}();return Object(S.jsx)("div",{children:Object(S.jsx)(ye,{title:"Sign In",onSubmit:v,submitName:"Sign In",secondaryName:"Create Account",secondaryLink:"/signup",secondaryLinks:[{to:"/signup",name:"Create Account"},{to:"/signup",name:"Create Account"}],fields:[{label:"Email",onChange:function(e){return c(e)},value:n,type:"email"},{label:"Password",onChange:function(e){return d(e)},value:s,type:"password"}]})})}function we(){var e=Object(r.useState)(""),t=Object(l.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(""),i=Object(l.a)(a,2),o=i[0],s=i[1],d=Object(r.useState)(""),f=Object(l.a)(d,2),p=f[0],O=f[1],v=Object(u.g)(),x=function(){var e=Object(j.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.signUp({username:o,password:p,attributes:{name:n}});case 2:v("/confirmSignUp",{state:{email:o}});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(S.jsx)("div",{children:Object(S.jsx)(ye,{title:"Sign Up",onSubmit:x,submitName:"Sign Up",secondaryName:"Sign In Instead",secondaryLink:"/signin",secondaryLinks:[],fields:[{label:"Name",onChange:function(e){return c(e)},value:n,type:"text"},{label:"Email",onChange:function(e){return s(e)},value:o,type:"email"},{label:"Password",onChange:function(e){return O(e)},value:p,type:"password"}]})})}function ke(){return Object(S.jsx)("div",{})}function Ee(){var e=Object(r.useState)(""),t=Object(l.a)(e,2),n=t[0],c=t[1],a=Object(u.g)(),i=Object(u.f)().state.email,o=function(){var e=Object(j.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.confirmSignUp(i,n);case 2:a("/signin");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(S.jsx)("div",{children:Object(S.jsx)(ye,{title:"Confirm Email",onSubmit:o,submitName:"Submit Code",secondaryLinks:[],fields:[{label:"Code",onChange:function(e){return c(e)},value:n,type:"text"}]})})}n(220);function Se(e){var t=Object.assign({},e),n=Object(r.useState)(!0),c=Object(l.a)(n,2),a=c[0],i=c[1],d=Object(o.c)((function(e){return e.user.authenticated})),f=Object(o.b)(),p=function(){var e=Object(j.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.currentUserInfo();case 3:if(null!==(t=e.sent)){e.next=6;break}throw new Error("Not authenticated");case 6:return e.next=8,h.a.currentSession();case 8:n=e.sent,f({type:O,payload:Object(G.a)(Object(G.a)({authenticated:!0},n),{},{userData:t})}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),f({type:O,payload:{authenticated:!1}});case 15:i(!1);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){p()}),[]);return Object(S.jsxs)("div",{children:[a&&Object(S.jsx)("div",{children:"Loading..."}),!a&&!d&&Object(S.jsx)(s.a,{children:Object(S.jsxs)(u.d,{children:[Object(S.jsx)(u.b,{path:"/signin",element:Object(S.jsx)(ge,{})}),Object(S.jsx)(u.b,{path:"/signup",element:Object(S.jsx)(we,{})}),Object(S.jsx)(u.b,{path:"/forgotPassword",element:Object(S.jsx)(ke,{})}),Object(S.jsx)(u.b,{path:"/confirmSignUp",element:Object(S.jsx)(Ee,{})}),Object(S.jsx)(u.b,{path:"/*",element:Object(S.jsx)(u.a,{to:"/signin"})})]})}),!a&&d&&t.children]})}ve.default.configure({Auth:{region:"ca-central-1",userPoolId:"ca-central-1_PbNi2Kk0b",userPoolWebClientId:"5eqd1t36crjn3u9q97le7f5gmk"}}),i.a.render(Object(S.jsx)(c.a.StrictMode,{children:Object(S.jsx)(o.a,{store:B,children:Object(S.jsx)(Se,{children:Object(S.jsx)(Oe,{})})})}),document.getElementById("root"))}},[[252,1,2]]]);
//# sourceMappingURL=main.4315c52b.chunk.js.map